<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <script src="/static/d3.v3.min.js"></script>
  <script src="/static/topojson.v1.min.js"></script>
  <script src="/static/datamaps.empty.js"></script>
  <h2>Datamaps Playground</h2>
  <p><a href="http://datamaps.github.io/">DataMaps Project Homepage</a></p>
  <div id="container1" style="height: 600px; width: 900px;"></div>
 
     
     <script>
      var width = 960, height = 500;
       var bubble_map = new Datamap({
            element: document.getElementById('container1'),
            scope: 'rus',
            geographyConfig: {
                popupOnHover: true,
                highlightOnHover: true,
                borderColor: '#444',
                borderWidth: 0.5,
                dataUrl: 'http://127.0.0.1:8080/static/rus.topo.json'
                //dataJson: topoJsonData
            },
            fills: {
                'MAJOR': '#306596',
                'MEDIUM': '#0fa0fa',
                'MINOR': '#bada55',
                defaultFill: '#dddddd'
            },
            data: {
                'KT': { fillKey: 'MEDIUM' },
                'TO': { fillKey: 'MINOR' }
            },
            setProjection: function (element) {
                  var projection = d3.geo.albers()
  .rotate([-105, 0])
  .center([-10, 65])
  .parallels([52, 64])
  .scale(700)
  .translate([width / 2, height / 2]);
                var path = d3.geo.path().projection(projection);
                return { path: path, projection: projection };
            }
});
     </script>
</body>